#include "PhotoGoodyzer/ColorSpace.h"
#include "TransferMatrix.h"

namespace pg {

std::map<std::pair<ColorSpace, ColorSpace>, TransferMatrix> DST_FROM_SRC = {
  { 
    {ColorSpace::XYZ, ColorSpace::RGB},   /* X */  {  {0.41239080f, 0.35758434f, 0.18048079f},       /* R */
                                          /* Y */     {0.21263901f, 0.71516868f, 0.07219232f},       /* G */
                                          /* Z */     {0.01933082f, 0.11919478f, 0.95053215f}  }     /* B */ 
  },                                
  {   
    {ColorSpace::RGB, ColorSpace::XYZ},   {   { 3.24096994f, -1.53738318f, -0.49861076f},
                                              {-0.96924364f,  1.8759675f,   0.04155506f},
                                              { 0.05563008f, -0.20397696f,  1.05697151f}    }
  },  

  // Von Kries Ma and Ma-1 for D65 (http://brucelindbloom.com/index.html?Eqn_ChromAdapt.html)
  {   
    {ColorSpace::LMS, ColorSpace::XYZ},   {   { 0.4002400f,  0.7076000f, -0.0808100f},
                                              {-0.2263000f,  1.1653200f,  0.0457000f},
                                              { 0.0000000f,  0.0000000f,  0.9182200f}    }
  },
  
  {
    {ColorSpace::XYZ, ColorSpace::LMS},   {   { 1.8599364f, -1.1293816f,  0.2198974f},
                                              { 0.3611914f,  0.6388125f, -0.0000064f},
                                              { 0.0000000f,  0.0000000f,  1.0890636f}    }
  },

  {   
    {ColorSpace::IPT, ColorSpace::LMS},   {   { 0.4000f,  0.4000f,  0.2000f},
                                              { 4.4550f, -4.8510f,  0.3960f},
                                              { 0.8056f,  0.3572f, -1.1628f}    }
  },
  
  {
    {ColorSpace::LMS, ColorSpace::IPT},   {   {	1.0f,  0.09756893051461391863f,	 0.2052264331645915994f},
                                              {	1.0f, -0.11387648547314712316f,	 0.1332171583699980557f},
                                              {	1.0f,  0.03261510991706640906f,	-0.6768871830691793103f}    }
  }  

/*   { // From skimage skimage.color
    {ColorSpace::XYZ, ColorSpace::RGB},             {  {0.412453, 0.357580, 0.180423},    
                                                       {0.212671, 0.715160, 0.072169},   
                                                       {0.019334, 0.119193, 0.950227}  } 
  },                                
  {   
    {ColorSpace::RGB, ColorSpace::XYZ},   {   { 3.24048134, -1.537151516, -0.49853632},
                                              {-0.96925494,  1.875990001,  0.041555926},
                                              { 0.05564664, -0.20404133,   1.05731106}  }
  },  
 
  // CAM16 matrices (with red shift because of undefined Illuminant)
  {   
    {ColorSpace::LMS, ColorSpace::XYZ},   {   { 0.401288,  0.650173, -0.051461},
                                              {-0.250268,  1.204414,  0.045854},
                                              {-0.002079,  0.048952,  0.953127}    }
  },  
  {   
    {ColorSpace::XYZ, ColorSpace::LMS},   {   { 1.86206786, -1.01125463,  0.14918677},
                                              { 0.38752654,  0.62144744, -0.00897398},
                                              {-0.01584150, -0.03412294,  1.04996444}    }
  }  
 */

  // to do later:  
  // {
  //   {ColorSpace::RGB, ColorSpace::IPT}, {  {  { 3.24096994, -1.53738318, -0.49861076}, 
  //                                             {-0.96924364,  1.8759675,   0.04155506},
  //                                             { 0.05563008, -0.20397696,  1.05697151}    }  *

  //                                           {   { 1.8599364, -1.1293816,  0.2198974},
  //                                               { 0.3611914,  0.6388125, -0.0000064},
  //                                               { 0.0000000,  0.0000000,  1.0890636}    } }
  // }    

};

} // namespace pg
